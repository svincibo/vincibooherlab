<!doctype html>
{{ partial "head.html" .}}
  <body>
{{ partial "nav.html" .}}

    <main role="main">
      {{ with .Site.GetPage "/publications" }}
        {{ partial "banner.html" .}}
      {{end}}
      <div class="container py-5">
  
      {{ with .Site.GetPage "/publications" }}
        {{ partial "featurette.html" .}}
      {{end}}
      
          <br>
      
        <div class="row">
          <div class="col-lg-12 mx-auto">  
            <ul class="timeline" id = "_publications">
            {{with .Site.GetPage "/publications"}}
                {{ range $i,$p := sort .Pages ".Params.publicationDate" "desc"}}
                {{ if isset .Params "authors" }}
                {{if not (modBool $i 2)}}
                    <!-- Odd content -->
                    <li class="timeline-item rounded ml-3 p-4 left"  > 
                      {{ if ne .Params.publicationDate nil }}
                        <div class="event_date blue-text">{{ dateFormat "Jan, 2006" .Params.publicationDate }}</div>
                      {{end}}
                      <h4 data-aos="fade-left">{{.Params.title}}</h4>
                      {{ if ne .Params.authors nil }}
                      <p>{{delimit .Params.authors ", "}}</p>
                      {{end}}
                      {{ if ne .Params.journal nil }}
                      <p class="journal bold">
                        {{.Params.journal}}
                      </p>
                      {{end}}
                      {{ if ne .Params.doi nil }}
                          <span class="badge badge-pill badge-info">{{.Params.doi}}</span>
                      {{end}}
                    </li>
                  {{else}}
                  <li class="timeline-item rounded ml-3 p-4 right"> 
                    {{ if ne .Params.publicationDate nil }}
                      <div class="event_date blue-text">{{ dateFormat "Jan, 2006" .Params.publicationDate }}</div>
                    {{end}}
                    <h4 data-aos="fade-right">{{.Params.title}}</h4>
                    {{ if ne .Params.authors nil }}
                    <p>{{delimit .Params.authors ", "}}</p>
                    {{end}}
                    {{ if ne .Params.journal nil }}
                    <p class="journal bold">
                      {{.Params.journal}}
                    </p>
                    {{end}}
                    {{ if ne .Params.doi nil }}
                        <span class="badge badge-pill badge-info">{{.Params.doi}}</span>
                    {{end}}
                  </li>
                  {{end}}
                  {{end}}
                  {{end}}
                  {{end}}
            </ul>
          </div>
        </div>
        </div>
        <!-- /END THE FEATURETTES -->
  
      <!-- /.container -->
    </main>
    {{ partial "footer.html" .}}
    <!-- Optional JavaScript; choose one of the two! -->
  
    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"></script>
      <script src="{{ .Site.BaseURL }}js/rss-parser.min.js"></script>
      <script src="{{ .Site.BaseURL }}js/parser.js"></script>
      <script src="{{ .Site.BaseURL }}js/lab.js"> </script>
    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
      -->
      <script>
  let scroller = 0;
  function Animate() {
        let heightTimelineBar = document.getElementById('_publications').scrollHeight;
        console.log("Firing event"+heightTimelineBar);
        //   console.log("LENGTH IS"+document.querySelectorAll("li").length);
          let prop = document.querySelector(".timeline").style.getPropertyValue("--barHeight");
            scroller = scroller + 0.1;
          document.querySelector(".timeline").style.setProperty("--barHeight", heightTimelineBar+"px");
  }
  
      </script>
  </body>
  
  </html>